<!DOCTYPE html>
<html>
    <head>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Perceptron Demo</title>
        <link rel="stylesheet" type="text/css" href="{{ url_for('.static', filename='style.css') }}">
        <script src="{{ url_for('static', filename='jquery.js') }}"></script>
        <script src="{{ url_for('static', filename='viz.js') }}"></script>
        <script src="{{ url_for('.static', filename='main.js') }}"></script>
    </head>
    <body>
        <div id="intro">
            <p>This web app demonstrates how a single-layer artificial neural network works.</p>
            <p>The ANN is learning to differentiate between two patterns (Pattern 0 and Pattern 1). Think of each pattern as a line of light hitting neurons in the retina - each neuron fires (set to 1) if there is light, but stays inactive (set to 0) otherwise.</p>
            <p>Using its weights, the ANN then decides whether it is Pattern 0 or Pattern 1 (the number on the far right in each trial). If this number matches the input pattern number, the ANN is correct and no change is necessary. If this number does <emph>not</emph> match the input pattern number, however, then the weights are adjusted.</p>
            <p>This process is then repeated; as long as the ANN gets either pattern incorrect, it will continue changing the weights.</p>
            <p>Try changing the patterns or the initial weights - <emph>the ANN always learns the correct classifications</emph> at the end.</p>
        </p></div>
        <div id="control">
            <table id="init">
                <tr>
                    <th>Neuron</th>
                    <th>Pattern 0<br>(Click to change)</th>
                    <th>Pattern 1<br>(Click to change)</th>
                    <th>Initial Weight</th>
                </tr>
                <tr>
                    <td>Neuron 1</td>
                    <td id="neuron1pattern0" class="black" onclick="toggle_pattern(this);">&nbsp;</td>
                    <td id="neuron1pattern1" class="black" onclick="toggle_pattern(this);">&nbsp;</td>
                    <td>
                        <select id="weight1">
                            <option>-1.0</option>
                            <option>-0.5</option>
                            <option selected="selected">0.0</option>
                            <option>0.5</option>
                            <option>1.0</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td>Neuron 2</td>
                    <td id="neuron2pattern0" class="white" onclick="toggle_pattern(this);">&nbsp;</td>
                    <td id="neuron2pattern1" class="black" onclick="toggle_pattern(this);">&nbsp;</td>
                    <td>
                        <select id="weight2">
                            <option>-1.0</option>
                            <option>-0.5</option>
                            <option selected="selected">0.0</option>
                            <option>0.5</option>
                            <option>1.0</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td>Neuron 3</td>
                    <td id="neuron3pattern0" class="white" onclick="toggle_pattern(this);">&nbsp;</td>
                    <td id="neuron3pattern1" class="white" onclick="toggle_pattern(this);">&nbsp;</td>
                    <td>
                        <select id="weight3">
                            <option>-1.0</option>
                            <option>-0.5</option>
                            <option selected="selected">0.0</option>
                            <option>0.5</option>
                            <option>1.0</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td>Neuron 4</td>
                    <td id="neuron4pattern0" class="white" onclick="toggle_pattern(this);">&nbsp;</td>
                    <td id="neuron4pattern1" class="black" onclick="toggle_pattern(this);">&nbsp;</td>
                    <td>
                        <select id="weight4">
                            <option>-1.0</option>
                            <option>-0.5</option>
                            <option selected="selected">0.0</option>
                            <option>0.5</option>
                            <option>1.0</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td>Neuron 5</td>
                    <td id="neuron5pattern0" class="black" onclick="toggle_pattern(this);">&nbsp;</td>
                    <td id="neuron5pattern1" class="black" onclick="toggle_pattern(this);">&nbsp;</td>
                    <td>
                        <select id="weight5">
                            <option>-1.0</option>
                            <option>-0.5</option>
                            <option selected="selected">0.0</option>
                            <option>0.5</option>
                            <option>1.0</option>
                        </select>
                    </td>
                </tr>
            </table>
            <p>
                Learning Rate: <select id="learning_rate">
                    <option>0.0</option>
                    <option selected="selected">0.1</option>
                    <option>0.2</option>
                    <option>0.3</option>
                    <option>0.4</option>
                    <option>0.5</option>
                    <option>0.6</option>
                    <option>0.7</option>
                    <option>0.8</option>
                    <option>0.9</option>
                    <option>1.0</option>
                </select>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                Activation Threshold: <select id="threshold">
                    <option>0.0</option>
                    <option>0.1</option>
                    <option>0.2</option>
                    <option>0.3</option>
                    <option>0.4</option>
                    <option>0.5</option>
                    <option>0.6</option>
                    <option selected="selected">0.7</option>
                    <option>0.8</option>
                    <option>0.9</option>
                    <option>1.0</option>
                    <option>1.1</option>
                    <option>1.2</option>
                    <option>1.3</option>
                    <option>1.4</option>
                    <option>1.5</option>
                </select>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <input type="checkbox" id="random">Randomize Patterns</input>
            </p>
            <p><button id="train" onclick="run();">Train</button></p>
        </div>
        <hr>
        <div id="log"></div>
    </body>
</html>
